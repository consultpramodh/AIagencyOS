{% extends "base.html" %}
{% block page_title %}Projects{% endblock %}
{% block content %}
<section class="hero card glass">
  <div>
    <p class="eyebrow">Projects</p>
    <h1>Project Spaces</h1>
    <p class="subtle">Delivery is separated from dashboard for lower cognitive load.</p>
  </div>
</section>

<section class="card">
  <div class="card-head"><h2>Fast Create</h2><span class="subtle">Minimal fields, fast execution</span></div>
  {% if ctx.membership.role in ["owner", "admin"] and clients|length > 0 %}
  <form id="project-create-form" method="post" action="/projects?tenant_id={{ ctx.tenant.id }}" class="inline-form">
    <select class="select" name="client_id" required>{% for client in clients %}<option value="{{ client.id }}">{{ client.name }}</option>{% endfor %}</select>
    <input class="input" required type="text" name="name" placeholder="Project name" minlength="2" maxlength="120" />
    <button class="btn" type="submit">Add Project</button>
  </form>
  {% endif %}
</section>

<section class="card">
  <h2>All Projects</h2>
  <ul class="list" data-skeleton>
    {% for project in projects %}
    <li>
      <span>{{ project.name }}</span>
      <span class="status-chip status-pass">{{ project.status|capitalize }}</span>
    </li>
    {% else %}<li>No projects yet. Create one from Fast Create.</li>{% endfor %}
  </ul>
</section>
{% endblock %}
